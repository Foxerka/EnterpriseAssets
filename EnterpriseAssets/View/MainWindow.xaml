<Window x:Class="EnterpriseAssets.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:EnterpriseAssets.ViewModel"
        mc:Ignorable="d"
        Title="Учет активов предприятия" 
        Height="700" 
        Width="1100"
        WindowStartupLocation="CenterScreen"
        Background="#F5F7FA"
        WindowState="Maximized">

    <Grid>
        <!-- Анимация для сворачивания панели (нерабочая версия) ( плавная по идее)-->
        <!--<Grid.Resources>
            <Storyboard x:Key="CollapsePanelAnimation">
                <DoubleAnimation Storyboard.TargetProperty="(Grid.ColumnDefinitions)[0].Width.Value"
                                 To="50" Duration="0:0:0.2"/>
            </Storyboard>
            <Storyboard x:Key="ExpandPanelAnimation">
                <DoubleAnimation Storyboard.TargetProperty="(Grid.ColumnDefinitions)[0].Width.Value"
                                 To="220" Duration="0:0:0.2"/>
            </Storyboard>
        </Grid.Resources>-->

        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="LeftColumn" Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Левая панель навигации -->
        <Border x:Name="LeftPanel" Grid.Column="0" Background="#2C3E50" BorderBrush="#34495E" BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Заголовок панели -->
                <Border Background="#1A252F" Height="50">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="15,0">
                        <TextBlock x:Name="PanelIcon" Text="📊" FontSize="18" VerticalAlignment="Center"/>
                        <TextBlock x:Name="PanelTitle" 
                                   Text="Панель управления" 
                                   FontSize="14" 
                                   FontWeight="SemiBold" 
                                   Foreground="White"
                                   VerticalAlignment="Center"
                                   Margin="10,0,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Кнопки навигации -->
                <ScrollViewer x:Name="NavScrollViewer" Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="NavStackPanel" Margin="0,20,0,0">

                        <!-- Группа: Основное -->
                        <TextBlock x:Name="GroupBasic" 
                                   Text="Основное" 
                                   Foreground="#7F8C8D" 
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Margin="15,0,0,5"/>

                        <Button x:Name="BtnDashboard" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Dashboard"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="📋" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnDashboardText" 
                                           Text="Главная" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <!-- Группа: Активы -->
                        <TextBlock x:Name="GroupAssets" 
                                   Text="Активы" 
                                   Foreground="#7F8C8D" 
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Margin="15,20,0,5"/>

                        <Button x:Name="BtnAssets" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Assets"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🏭" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnAssetsText" 
                                           Text="Активы" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnEquipment" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Equipment"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="⚙️" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnEquipmentText" 
                                           Text="Оборуд." 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnWarehouse" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Warehouse"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="📦" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnWarehouseText" 
                                           Text="Цеха" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <!-- Группа: Производство -->
                        <TextBlock x:Name="GroupProduction" 
                                   Text="Производство" 
                                   Foreground="#7F8C8D" 
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Margin="15,20,0,5"/>

                        <Button x:Name="BtnWorkActs" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="WorkActs"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="📝" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnWorkActsText" 
                                           Text="Акты" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>
                            <!--СКРЫТ-->
                        <Button x:Name="BtnSessions" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Sessions"
                                Click="NavButton_Click"
                                Visibility="Collapsed">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="⏱️" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnSessionsText" 
                                           Text="Сессии" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnProducts" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Products"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="📊" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnProductsText" 
                                           Text="Продукция" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <!-- Группа: Закупки -->
                        <TextBlock x:Name="GroupPurchases" 
                                   Text="Закупки" 
                                   Foreground="#7F8C8D" 
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Margin="15,20,0,5"/>

                        <Button x:Name="BtnPurchases" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Purchases"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🛒" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnPurchasesText" 
                                           Text="Закупки" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnSuppliers" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Suppliers"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🤝" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnSuppliersText" 
                                           Text="Поставщики" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <!-- Группа: Обслуживание -->
                        <TextBlock x:Name="GroupMaintenance" 
                                   Text="Обслуживание" 
                                   Foreground="#7F8C8D" 
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Margin="15,20,0,5"/>

                        <Button x:Name="BtnMaintenance" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Maintenance"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="🔧" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnMaintenanceText" 
                                           Text="ТО" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <!-- Группа: Отчеты  СКРЫТЫ-->
                        <TextBlock x:Name="GroupReports" 
                                   Text="Отчеты" 
                                   Foreground="#7F8C8D" 
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Margin="15,20,0,5"
                                   
                                   Visibility="Collapsed"/>

                        <Button x:Name="BtnReports" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Reports"
                                Click="NavButton_Click"
                                
                                Visibility="Collapsed">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="📈" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnReportsText" 
                                           Text="Отчеты" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <Button x:Name="BtnAnalytics" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Analytics"
                                Click="NavButton_Click"
                                
                                Visibility="Collapsed">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="📊" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnAnalyticsText" 
                                           Text="Аналитика" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                        <!-- Группа: Администрирование -->
                        <TextBlock x:Name="GroupAdmin" 
                                   Text="Администр." 
                                   Foreground="#7F8C8D" 
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Margin="15,20,0,5"/>

                        <Button x:Name="BtnUsers" 
                                Style="{StaticResource NavButtonStyle}"
                                Tag="Users"
                                Click="NavButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="👥" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock x:Name="BtnUsersText" 
                                           Text="Пользователи" 
                                           FontSize="14"
                                           Foreground="White"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                        </Button>

                    </StackPanel>
                </ScrollViewer>

                <!-- Нижняя панель с пользователем и кнопкой выхода -->
                <Border Grid.Row="2" Background="#1A252F" Height="100">
                    <StackPanel Margin="15">
                        <!-- Информация о пользователе -->
                        <StackPanel x:Name="UserInfoPanel" Orientation="Horizontal" Margin="0,0,0,10">
                            <Border Width="32" Height="32" CornerRadius="16" Background="#4A6FA5">
                                <TextBlock Text="👤" 
                                           FontSize="14"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel x:Name="UserDetailsPanel" Margin="10,0,0,0">
                                <TextBlock x:Name="UserNameText"
                                           Text="{Binding FullName}" 
                                           Foreground="White" 
                                           FontSize="12"
                                           FontWeight="SemiBold"
                                           TextWrapping="NoWrap"/>
                                <TextBlock x:Name="UserRoleText"
                                           Text="{Binding RoleName}" 
                                           Foreground="#95A5A6" 
                                           FontSize="10"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Кнопка выхода -->
                        <Button x:Name="BtnLogout"
                                Command="{Binding LogoutCommand}"
                                Background="Transparent"
                                BorderBrush="#E74C3C"
                                BorderThickness="1"
                                Foreground="#E74C3C"
                                Padding="10,5"
                                Cursor="Hand">
                            <StackPanel x:Name="LogoutStackPanel" Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="🚪" FontSize="12" VerticalAlignment="Center"/>
                                <TextBlock x:Name="LogoutText"
                                           Text="Выйти" 
                                           FontSize="12"
                                           FontWeight="SemiBold"
                                           VerticalAlignment="Center"
                                           Margin="5,0,0,0"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- Правая часть - контент -->
        <Grid Grid.Column="1">
            <!-- Верхняя панель -->
            <Border Background="#4A6FA5" Height="50" VerticalAlignment="Top">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Кнопка меню для сворачивания/разворачивания -->
                    <Button x:Name="BtnMenuToggle" 
                            Style="{StaticResource IconButtonStyle}"
                            Click="BtnMenuToggle_Click"
                            Margin="15,0"
                            ToolTip="Свернуть/развернуть панель">
                        <TextBlock x:Name="MenuToggleIcon" Text="◀" FontSize="16" Foreground="White"/>
                    </Button>

                    <!-- Заголовок страницы -->
                    <TextBlock Text="{Binding PageTitle}" 
                               Grid.Column="1"
                               FontSize="18" 
                               FontWeight="SemiBold" 
                               Foreground="White"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"/>

                    <!-- Быстрые действия -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,0,15,0" VerticalAlignment="Center">
                        <Button Style="{StaticResource IconButtonStyle}" ToolTip="Обновить">
                            <TextBlock Text="🔄" FontSize="14"/>
                        </Button>
                        <Button Style="{StaticResource IconButtonStyle}" ToolTip="Уведомления" Margin="10,0,0,0">
                            <TextBlock Text="🔔" FontSize="14"/>
                        </Button>
                        <Button Style="{StaticResource IconButtonStyle}" ToolTip="Настройки" Margin="10,0,0,0">
                            <TextBlock Text="⚙️" FontSize="14"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Область контента (Frame для страниц) -->
            <Frame x:Name="MainFrame" 
                   Margin="20,50,20,20" 
                   NavigationUIVisibility="Hidden"/>
        </Grid>
    </Grid>

    <!-- Стили -->
    <Window.Resources>
        <Style x:Key="NavButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#34495E"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#2C3E50"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="IconButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3A5A90"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#2A4A80"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
</Window>