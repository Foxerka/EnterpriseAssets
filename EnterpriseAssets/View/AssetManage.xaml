<Window x:Class="EnterpriseAssets.View.AssetManage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Управление активом" 
        Height="750" Width="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F5F7FA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 🔹 Заголовок -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock x:Name="WindowTitle" 
                       Text="Добавление актива" 
                       FontSize="24" 
                       FontWeight="SemiBold" 
                       Foreground="#2C3E50"/>
            <TextBlock Text="Заполните информацию об активе" 
                       FontSize="12" 
                       Foreground="#7F8C8D"
                       Margin="0,5,0,0"/>
        </StackPanel>

        <!-- 🔹 Основной контент с прокруткой -->
        <ScrollViewer Grid.Row="1" 
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Margin="0,0,0,15">

            <StackPanel>
                <!-- 📋 Раздел 1: Основная информация -->
                <Border Background="White"
                        BorderBrush="#E1E5EB"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="📋 Основная информация" 
                                   FontSize="14" 
                                   FontWeight="SemiBold" 
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,12"/>

                        <!-- Название -->
                        <TextBlock Text="Название *" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                        <TextBox x:Name="TxtName" 
                                 Padding="10,8"
                                 BorderBrush="#BDC3C7"
                                 Background="White"
                                 Margin="0,0,0,12"/>

                        <!-- Тип актива и Категория -->
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Тип актива *" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                                <ComboBox x:Name="CmbAssetType" 
                                          Padding="8,6"
                                          SelectionChanged="CmbAssetType_SelectionChanged"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Категория" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                                <ComboBox x:Name="CmbCategory" 
                                          Padding="8,6"/>
                            </StackPanel>
                        </Grid>

                        <!-- Серийный номер -->
                        <TextBlock Text="Серийный номер" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                        <TextBox x:Name="TxtSerialNumber" 
                                 Padding="10,8"
                                 BorderBrush="#BDC3C7"
                                 Background="White"
                                 Margin="0,0,0,12"/>

                        <!-- Описание -->
                        <TextBlock Text="Описание" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                        <TextBox x:Name="TxtDescription" 
                                 Padding="10,8"
                                 BorderBrush="#BDC3C7"
                                 Background="White"
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True"
                                 Height="80"
                                 VerticalContentAlignment="Top"/>
                    </StackPanel>
                </Border>

                <!-- 📦 Раздел 2: Количество и единицы измерения -->
                <Border Background="White"
                        BorderBrush="#E1E5EB"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="📦 Количество" 
                                   FontSize="14" 
                                   FontWeight="SemiBold" 
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,12"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Количество *" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                                <TextBox x:Name="TxtQuantity" 
                                         Padding="10,8"
                                         BorderBrush="#BDC3C7"
                                         Background="White"
                                         PreviewTextInput="TxtQuantity_PreviewTextInput"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Единица измерения" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                                <ComboBox x:Name="CmbUnit" 
                                          Padding="8,6"/>
                            </StackPanel>
                        </Grid>

                        <!-- Минимальное количество -->
                        <TextBlock Text="Минимальное количество (для уведомлений)" 
                                   Foreground="#5D6D7E" 
                                   Margin="0,12,0,5"/>
                        <TextBox x:Name="TxtMinQuantity" 
                                 Padding="10,8"
                                 BorderBrush="#BDC3C7"
                                 Background="White"
                                 PreviewTextInput="TxtQuantity_PreviewTextInput"/>
                    </StackPanel>
                </Border>

                <!-- 📍 Раздел 3: Расположение -->
                <Border Background="White"
                        BorderBrush="#E1E5EB"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="📍 Расположение" 
                                   FontSize="14" 
                                   FontWeight="SemiBold" 
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,12"/>

                        <!-- Цех -->
                        <TextBlock Text="Цех" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                        <ComboBox x:Name="CmbWorkshop" 
                                  Padding="8,6"
                                  Margin="0,0,0,12"/>

                        <!-- Место на складе -->
                        <TextBlock Text="Место на складе" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                        <TextBox x:Name="TxtWarehouseLocation" 
                                 Padding="10,8"
                                 BorderBrush="#BDC3C7"
                                 Background="White"
                                 Margin="0,0,0,5"/>
                        <TextBlock Text="Например: Стеллаж A-12, Полка 3" 
                                   FontSize="11" 
                                   Foreground="#95A5A6"
                                   FontStyle="Italic"/>
                    </StackPanel>
                </Border>

                <!-- 💰 Раздел 4: Покупка и стоимость -->
                <Border Background="White"
                        BorderBrush="#E1E5EB"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="💰 Покупка и стоимость" 
                                   FontSize="14" 
                                   FontWeight="SemiBold" 
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,12"/>

                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Дата покупки" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                                <DatePicker x:Name="DpPurchaseDate" 
                                            Padding="8,6"
                                            BorderBrush="#BDC3C7"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Стоимость покупки" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                                <TextBox x:Name="TxtPurchaseCost" 
                                         Padding="10,8"
                                         BorderBrush="#BDC3C7"
                                         Background="White"
                                         PreviewTextInput="TxtDecimal_PreviewTextInput"/>
                            </StackPanel>
                        </Grid>

                        <!-- Поставщик -->
                        <TextBlock Text="Поставщик" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                        <ComboBox x:Name="CmbSupplier" 
                                  Padding="8,6"
                                  Margin="0,0,0,12"/>

                        <!-- Текущая стоимость -->
                        <TextBlock Text="Текущая стоимость" Foreground="#5D6D7E" Margin="0,0,0,5"/>
                        <TextBox x:Name="TxtCurrentValue" 
                                 Padding="10,8"
                                 BorderBrush="#BDC3C7"
                                 Background="White"
                                 PreviewTextInput="TxtDecimal_PreviewTextInput"/>
                    </StackPanel>
                </Border>

                <!-- 📊 Раздел 5: Статус (только для оборудования) -->
                <Border x:Name="StatusSection"
                        Background="White"
                        BorderBrush="#E1E5EB"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15"
                        Margin="0,0,0,12"
                        Visibility="Visible">
                    <StackPanel>
                        <TextBlock Text="📊 Статус" 
                                   FontSize="14" 
                                   FontWeight="SemiBold" 
                                   Foreground="#2C3E50"
                                   Margin="0,0,0,12"/>

                        <ComboBox x:Name="CmbStatus" 
                                  Padding="8,6"/>
                    </StackPanel>
                </Border>

                <!-- 🕐 Раздел 6: Дата создания (только для редактирования) -->
                <Border x:Name="CreatedAtSection"
                        Background="#F8F9FA"
                        BorderBrush="#E1E5EB"
                        BorderThickness="1"
                        CornerRadius="6"
                        Padding="12"
                        Margin="0,0,0,5">
                    <StackPanel>
                        <TextBlock x:Name="TxtCreatedAt" 
                                   Text="Создан: " 
                                   Foreground="#7F8C8D"
                                   FontSize="12"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- 🔹 Кнопки -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right">
            <Button x:Name="BtnDelete" 
                    Content="🗑️ Удалить" 
                    Background="#E74C3C"
                    Foreground="White"
                    Padding="15,8"
                    BorderThickness="0"
                    Cursor="Hand"
                    Margin="0,0,10,0"
                    Click="BtnDelete_Click"/>

            <Button x:Name="BtnCancel" 
                    Content="Отмена" 
                    Background="#95A5A6"
                    Foreground="White"
                    Padding="20,8"
                    BorderThickness="0"
                    Cursor="Hand"
                    Margin="0,0,10,0"
                    Click="BtnCancel_Click"/>

            <Button x:Name="BtnSave" 
                    Content="💾 Сохранить" 
                    Background="#27AE60"
                    Foreground="White"
                    Padding="20,8"
                    BorderThickness="0"
                    Cursor="Hand"
                    Click="BtnSave_Click"/>
        </StackPanel>
    </Grid>
</Window>